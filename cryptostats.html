<!doctype html>
<html>
<head>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/sprintf/1.1.1/sprintf.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
let formatter = new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
    minimumFractionDigits: 2
});

$.get("https://api.coinmarketcap.com/v1/ticker/?limit=20", function(tickers) {
    let result = '';
    result += '+--------+------------+----------------------+--------+--------+--------+\n';
    result += '| TICKER | PRICE      | CAPITALIZATION       | 1H %   | 24H %  | 7D %   |\n';
    result += '+--------+------------+----------------------+--------+--------+--------+\n';
    for (let ticker of tickers) {
        console.log(ticker);
        result += sprintf('| %-6s | %-10s | %-20s | %6g | %6g | %6g |\n', ticker.symbol,
            formatter.format(parseFloat(ticker.price_usd)),
            formatter.format(parseFloat(ticker.market_cap_usd)),
            parseFloat(ticker.percent_change_1h),
            parseFloat(ticker.percent_change_7d),
            parseFloat(ticker.percent_change_24h)
        );
    }
    result += '+--------+------------+----------------------+--------+--------+--------+\n';
    $('#view').text(result);
});
</script>
<style type="text/css">
::selection {
    color: black;
    background: rgb(26,255,0);
}
::-moz-selection {
    color: black;
    background: rgb(26,255,0);
}
</style>
</head>
<body style="margin: 0; background-color: black;">
<pre id="view" style="margin: 0; font: 40px VT220-mod; color: rgb(26,255,0)">
</pre>
</body>
</html>
